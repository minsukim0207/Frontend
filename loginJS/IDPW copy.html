<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원가입 copy</title>
    <script>
        function submitPassword() {
            var password = document.getElementById("password").value;
            var confirmpassword = document.getElementById("confirmpassword").value;
            /*
            정규식을 활용해서
            영문자  소       대문자     숫자      특수문자 포함하기         8~32
            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/
            */
            var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/;
            var errorPW = document.getElementById("pm");
            if (!password.match(passwordPattern)) {
                errorPW.textContent = "비밀번호는 8~32자의 영문 대문자, 소문자, 특수문자, 숫자를 포함해야 합니다.";
                return false;
            } else {
                errorPW.textContent = "";   // 유효한 경우 오류 메시지 삭제
            }

            if (password !== confirmpassword) {
                errorPW.textContent = "미일치";
                return false;
            } else {
                errorPW.textContent = "";
            }
            alert("회원가입 완료");
            return true;
        }
    </script>
</head>
<body>
    <!--
        onsubmit : 폼이 제출될 때 JS 함수가 반환하는 값에 따라 폼의 진행 여부 결정
        return true: 폼이 진행되고 서버로 데이터가 전송
        retturn false : 폼이 제출되지 않고 데이터 미전송
    -->
    <form onsubmit="return submitPassword()">
        <label for="username">아이디 : </label>
        <input type="text" id="username">
        <label for="password">비밀번호 : </label>
        <input type="password" id="password">
        <!--
            <p id="pm"></p>
            p 태그 안에는 유효한 비밀번호 입력을 유도
        -->
        <p id="pm" style="color:red"></p><br>
        <label for="confirmpassword">비밀번호 확인 : </label>
        <input type="password" id="confirmpassword"><br>
        <input type="submit" value="제출">
    </form>
</body>
</html>